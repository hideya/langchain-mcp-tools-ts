<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@h1deya/langchain-mcp-tools - v0.3.5</title><meta name="description" content="Documentation for @h1deya/langchain-mcp-tools"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">@h1deya/langchain-mcp-tools - v0.3.5</a><div id="tsd-toolbar-links"><a href="https://github.com/hideya/langchain-mcp-tools-ts">GitHub</a><a href="https://www.npmjs.com/package/@h1deya/langchain-mcp-tools">NPM</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@h1deya/langchain-mcp-tools - v0.3.5</h1></div><div class="tsd-panel tsd-typography"><h1 id="mcp-to-langchain-tools-conversion-utility--typescript-license-mit-npm-version-network-dependents" class="tsd-anchor-link">MCP to LangChain Tools Conversion Utility / TypeScript <a href="https://github.com/hideya/langchain-mcp-tools-ts/blob/main/LICENSE"><img src="https://img.shields.io/badge/License-MIT-blue.svg" alt="License: MIT"></a> <a href="https://www.npmjs.com/package/@h1deya/langchain-mcp-tools"><img src="https://img.shields.io/npm/v/@h1deya/langchain-mcp-tools.svg" alt="npm version"></a> <a href="https://dependents.info/hideya/langchain-mcp-tools-ts"><img src="https://dependents.info/hideya/langchain-mcp-tools-ts/badge" alt="network dependents"></a><a href="#mcp-to-langchain-tools-conversion-utility--typescript-license-mit-npm-version-network-dependents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>A simple, lightweight library to use
<a href="https://modelcontextprotocol.io/">Model Context Protocol (MCP)</a>
server tools from LangChain.</p>
<img width="500px" alt="langchain-mcp-tools-diagram" src="https://raw.githubusercontent.com/hideya/langchain-mcp-tools-py/refs/heads/main/docs/images/langchain-mcp-tools-diagram.png" />
<p>Its simplicity and extra features, such as
<a href="https://github.com/hideya/langchain-mcp-tools-ts/blob/main/README.md#llm-provider-schema-compatibility">tools schema adjustments for LLM compatibility</a>
and <a href="https://github.com/hideya/langchain-mcp-tools-ts/blob/main/README.md#debugging-and-logging">tools invocation logging</a>,
make it a useful basis for your experiments and customizations.
However, it only supports text results of tool calls and does not support MCP features other than Tools.</p>
<p><a href="https://www.npmjs.com/package/@langchain/mcp-adapters">LangChain's <strong>official LangChain.js MCP Adapters</strong> library</a>,
which supports comprehensive integration with LangChain, has been released.
You may want to consider using it if you don't have specific needs for this library.</p>
<h2 id="prerequisites" class="tsd-anchor-link">Prerequisites<a href="#prerequisites" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>Node.js 18+</li>
</ul>
<h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">i</span><span class="hl-1"> </span><span class="hl-2">@h1deya/langchain-mcp-tools</span>
</code><button type="button">Copy</button></pre>

<h2 id="quick-start" class="tsd-anchor-link">Quick Start<a href="#quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><code>convertMcpToLangchainTools()</code> utility function accepts MCP server configurations
that follow the same structure as
<a href="https://modelcontextprotocol.io/quickstart/user">Claude for Desktop</a>,
but only the contents of the <code>mcpServers</code> property,
and is expressed as a JS Object, e.g.:</p>
<pre><code class="ts"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">mcpServers</span><span class="hl-1">: </span><span class="hl-5">McpServersConfig</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-6">filesystem:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">command:</span><span class="hl-1"> </span><span class="hl-2">&quot;npx&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">args:</span><span class="hl-1"> [</span><span class="hl-2">&quot;-y&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;@modelcontextprotocol/server-filesystem&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;.&quot;</span><span class="hl-1">]</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-6">fetch:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">command:</span><span class="hl-1"> </span><span class="hl-2">&quot;uvx&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">args:</span><span class="hl-1"> [</span><span class="hl-2">&quot;mcp-server-fetch&quot;</span><span class="hl-1">]</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-6">github:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&quot;http&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">url:</span><span class="hl-1"> </span><span class="hl-2">&quot;https://api.githubcopilot.com/mcp/&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">headers:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">&quot;Authorization&quot;</span><span class="hl-6">:</span><span class="hl-1"> </span><span class="hl-2">`Bearer </span><span class="hl-3">${</span><span class="hl-6">process</span><span class="hl-7">.</span><span class="hl-6">env</span><span class="hl-7">.</span><span class="hl-4">GITHUB_PERSONAL_ACCESS_TOKEN</span><span class="hl-3">}</span><span class="hl-2">`</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-4">tools</span><span class="hl-1">, </span><span class="hl-4">cleanup</span><span class="hl-1"> } = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-0">convertMcpToLangchainTools</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-6">mcpServers</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-9">// Perform provider-specific JSON schema transformations to prevent schema compatibility issues</span><br/><span class="hl-1">    </span><span class="hl-6">llmProvider:</span><span class="hl-1"> </span><span class="hl-2">&quot;google_gemini&quot;</span><br/><span class="hl-1">    </span><span class="hl-9">// llmProvider: &quot;openai&quot;</span><br/><span class="hl-1">    </span><span class="hl-9">// llmProvider: &quot;anthropic&quot;  // no transformations</span><br/><span class="hl-1">    </span><span class="hl-9">// llmProvider: &quot;xai&quot;  // no transformations</span><br/><span class="hl-1">    </span><span class="hl-9">// llmProvider: &quot;none&quot;  // for others (default)</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>This utility function initializes all specified MCP servers in parallel,
and returns LangChain Tools
(<a href="https://api.js.langchain.com/classes/_langchain_core.tools.StructuredTool.html"><code>tools: StructuredTool[]</code></a>)
by gathering available MCP tools from the servers,
and by wrapping them into LangChain tools.</p>
<p>When <code>llmProvider</code> option is specified, it performs LLM provider-specific schema transformations
for MCP tools to prevent schema compatibility issues.
Set this option when you enconter schema related warnings/errors while execution.<br>
<a href="https://github.com/hideya/langchain-mcp-tools-ts/blob/main/README.md#llm-provider-schema-compatibility">See below</a> for details.</p>
<p>It also returns an async callback function (<code>cleanup: McpServerCleanupFn</code>)
to be invoked to close all MCP server sessions when finished.</p>
<p>The returned tools can be used with LangChain, e.g.:</p>
<pre><code class="ts"><span class="hl-9">// import { ChatGoogleGenerativeAI } from &quot;@langchain/google-genai&quot;;</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">llm</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">ChatGoogleGenerativeAI</span><span class="hl-1">({ </span><span class="hl-6">model:</span><span class="hl-1"> </span><span class="hl-2">&quot;gemini-2.5-flash&quot;</span><span class="hl-1"> });</span><br/><br/><span class="hl-9">// import { createReactAgent } from &quot;@langchain/langgraph/prebuilt&quot;;</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">agent</span><span class="hl-1"> = </span><span class="hl-0">createReactAgent</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">llm</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">tools</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>A minimal but complete working usage example can be found
<a href="https://github.com/hideya/langchain-mcp-tools-ts-usage/blob/main/src/index.ts">in this example in the langchain-mcp-tools-ts-usage repo</a></p>
<p>For hands-on experimentation with MCP server integration,
try <a href="https://www.npmjs.com/package/@h1deya/mcp-client-cli">this MCP Client CLI tool built with this library</a></p>
<p>A Python equivalent of this utility is available
<a href="https://pypi.org/project/langchain-mcp-tools">here</a></p>
<h2 id="introduction" class="tsd-anchor-link">Introduction<a href="#introduction" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This package is intended to simplify the use of
<a href="https://modelcontextprotocol.io/">Model Context Protocol (MCP)</a>
server tools with LangChain / TypeScript.</p>
<p><a href="https://modelcontextprotocol.io/">Model Context Protocol (MCP)</a> is the de facto industry standard
that dramatically expands the scope of LLMs by enabling the integration of external tools and resources,
including DBs, Cloud Storages, GitHub, Docker, Slack, and more.
There are quite a few useful MCP servers already available.<br>
See <a href="https://github.com/modelcontextprotocol/servers?tab=readme-ov-file#model-context-protocol-servers">MCP Server Listing on the Official Site</a>.</p>
<p>This utility's goal is to make these numerous MCP servers easily accessible from LangChain.<br>
It contains a utility function <code>convertMcpToLangchainTools()</code>.<br>
This async function handles parallel initialization of specified multiple MCP servers
and converts their available tools into an array of LangChain-compatible tools.
It also performs LLM provider-specific schema transformations
to prevent <a href="https://github.com/hideya/langchain-mcp-tools-ts/blob/main/README.md#llm-provider-schema-compatibility">schema compatibility issues</a></p>
<p>For detailed information on how to use this library, please refer to the following document:
<a href="https://medium.com/@h1deya/supercharging-langchain-integrating-450-mcp-with-react-d4e467cbf41a">&quot;Supercharging LangChain: Integrating 2000+ MCP with ReAct&quot;</a>.</p>
<h2 id="mcp-protocol-support" class="tsd-anchor-link">MCP Protocol Support<a href="#mcp-protocol-support" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This library supports <strong>MCP Protocol version 2025-03-26</strong> and maintains backwards compatibility with version 2024-11-05.
It follows the <a href="https://modelcontextprotocol.io/specification/2025-03-26/">official MCP specification</a> for transport selection and backwards compatibility.</p>
<h3 id="limitations" class="tsd-anchor-link">Limitations<a href="#limitations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Tool Return Types</strong>: Currently, only text results of tool calls are supported.
The library uses LangChain's <code>response_format: 'content'</code> (the default), which only supports text strings.
While MCP tools can return multiple content types (text, images, etc.), this library currently filters and uses only text content.</li>
<li><strong>MCP Features</strong>: Only MCP <a href="https://modelcontextprotocol.io/docs/concepts/tools">Tools</a> are supported. Other MCP features like Resources, Prompts, and Sampling are not implemented.</li>
</ul>
<h3 id="notes" class="tsd-anchor-link">Notes<a href="#notes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>LLM Compatibility and Schema Transformations</strong>: The library can perform schema transformations for LLM compatibility.
<a href="https://github.com/hideya/langchain-mcp-tools-ts/blob/main/README.md#llm-provider-schema-compatibility">See below</a> for details.</li>
<li><strong>Passing PATH Env Variable</strong>: The library automatically adds the <code>PATH</code> environment variable to stdio server configrations if not explicitly provided to ensure servers can find required executables.</li>
</ul>
<h2 id="api-docs" class="tsd-anchor-link">API docs<a href="#api-docs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Can be found <a href="https://hideya.github.io/langchain-mcp-tools-ts/modules.html">here</a></p>
<h2 id="building-from-source" class="tsd-anchor-link">Building from Source<a href="#building-from-source" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>See <a href="https://github.com/hideya/langchain-mcp-tools-ts/blob/main/README_DEV.md">README_DEV.md</a> for details.</p>
<h2 id="features" class="tsd-anchor-link">Features<a href="#features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="stderr-redirection-for-local-mcp-server" class="tsd-anchor-link"><code>stderr</code> Redirection for Local MCP Server<a href="#stderr-redirection-for-local-mcp-server" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>A new key <code>&quot;stderr&quot;</code> has been introduced to specify a file descriptor
to which local (stdio) MCP server's stderr is redirected.<br>
The key name <code>stderr</code> is derived from
TypeScript SDK's <a href="https://github.com/modelcontextprotocol/typescript-sdk/blob/131776764536b5fdca642df51230a3746fb4ade0/src/client/stdio.ts#L32"><code>StdioServerParameters</code></a>.</p>
<pre><code class="ts"><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">logPath</span><span class="hl-1"> = </span><span class="hl-2">`mcp-server-</span><span class="hl-3">${</span><span class="hl-6">serverName</span><span class="hl-3">}</span><span class="hl-2">.log`</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">logFd</span><span class="hl-1"> = </span><span class="hl-6">fs</span><span class="hl-1">.</span><span class="hl-0">openSync</span><span class="hl-1">(</span><span class="hl-6">logPath</span><span class="hl-1">, </span><span class="hl-2">&quot;w&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">mcpServers</span><span class="hl-1">[</span><span class="hl-6">serverName</span><span class="hl-1">].</span><span class="hl-6">stderr</span><span class="hl-1"> = </span><span class="hl-6">logFd</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<p>A usage example can be found <a href="https://github.com/hideya/langchain-mcp-tools-ts-usage/blob/694b877ed5336bfcd5274d95d3f6d14bed0937a6/src/index.ts#L72-L83">here</a></p>
<h3 id="working-directory-configuration-for-local-mcp-servers" class="tsd-anchor-link">Working Directory Configuration for Local MCP Servers<a href="#working-directory-configuration-for-local-mcp-servers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The working directory that is used when spawning a local (stdio) MCP server
can be specified with the <code>&quot;cwd&quot;</code> key as follows:</p>
<pre><code class="ts"><span class="hl-1">    </span><span class="hl-2">&quot;local-server-name&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-6">command:</span><span class="hl-1"> </span><span class="hl-2">&quot;...&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">args:</span><span class="hl-1"> [...],</span><br/><span class="hl-1">      </span><span class="hl-6">cwd:</span><span class="hl-1"> </span><span class="hl-2">&quot;/working/directory&quot;</span><span class="hl-1">  </span><span class="hl-9">// the working dir to be use by the server</span><br/><span class="hl-1">    },</span>
</code><button type="button">Copy</button></pre>

<p>The key name <code>cwd</code> is derived from
TypeScript SDK's <a href="https://github.com/modelcontextprotocol/typescript-sdk/blob/131776764536b5fdca642df51230a3746fb4ade0/src/client/stdio.ts#L39"><code>StdioServerParameters</code></a>.</p>
<h3 id="transport-selection-priority" class="tsd-anchor-link">Transport Selection Priority<a href="#transport-selection-priority" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The library selects transports using the following priority order:</p>
<ol>
<li><strong>Explicit transport/type field</strong> (must match URL protocol if URL provided)</li>
<li><strong>URL protocol auto-detection</strong> (http/https → StreamableHTTP → SSE, ws/wss → WebSocket)</li>
<li><strong>Command presence</strong> → Stdio transport</li>
<li><strong>Error</strong> if none of the above match</li>
</ol>
<p>This ensures predictable behavior while allowing flexibility for different deployment scenarios.</p>
<h3 id="remote-mcp-server-support" class="tsd-anchor-link">Remote MCP Server Support<a href="#remote-mcp-server-support" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>mcp_servers</code> configuration for Streamable HTTP, SSE and Websocket servers are as follows:</p>
<pre><code class="ts"><span class="hl-1">    </span><span class="hl-9">// Auto-detection: tries Streamable HTTP first, falls back to SSE on 4xx errors</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;auto-detect-server&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-6">url:</span><span class="hl-1"> </span><span class="hl-2">`http://</span><span class="hl-3">${</span><span class="hl-6">server_host</span><span class="hl-3">}</span><span class="hl-2">:</span><span class="hl-3">${</span><span class="hl-6">server_port</span><span class="hl-3">}</span><span class="hl-2">/...`</span><br/><span class="hl-1">    },</span><br/><br/><span class="hl-1">    </span><span class="hl-9">// Explicit Streamable HTTP</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;streamable-http-server&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-6">url:</span><span class="hl-1"> </span><span class="hl-2">`http://</span><span class="hl-3">${</span><span class="hl-6">server_host</span><span class="hl-3">}</span><span class="hl-2">:</span><span class="hl-3">${</span><span class="hl-6">server_port</span><span class="hl-3">}</span><span class="hl-2">/...`</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">transport:</span><span class="hl-1"> </span><span class="hl-2">&quot;streamable_http&quot;</span><br/><span class="hl-1">        </span><span class="hl-9">// type: &quot;http&quot;  // VSCode-style config also works instead of the above</span><br/><span class="hl-1">    },</span><br/><br/><span class="hl-1">    </span><span class="hl-9">// Explicit SSE</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;sse-server-name&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-6">url:</span><span class="hl-1"> </span><span class="hl-2">`http://</span><span class="hl-3">${</span><span class="hl-6">sse_server_host</span><span class="hl-3">}</span><span class="hl-2">:</span><span class="hl-3">${</span><span class="hl-6">sse_server_port</span><span class="hl-3">}</span><span class="hl-2">/...`</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">transport:</span><span class="hl-1"> </span><span class="hl-2">&quot;sse&quot;</span><span class="hl-1">  </span><span class="hl-9">// or `type: &quot;sse&quot;`</span><br/><span class="hl-1">    },</span><br/><br/><span class="hl-1">    </span><span class="hl-9">// WebSocket</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;ws-server-name&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-6">url:</span><span class="hl-1"> </span><span class="hl-2">`ws://</span><span class="hl-3">${</span><span class="hl-6">ws_server_host</span><span class="hl-3">}</span><span class="hl-2">:</span><span class="hl-3">${</span><span class="hl-6">ws_server_port</span><span class="hl-3">}</span><span class="hl-2">/...`</span><br/><span class="hl-1">        </span><span class="hl-9">// optionally `transport: &quot;ws&quot;` or `type: &quot;ws&quot;`</span><br/><span class="hl-1">    },</span>
</code><button type="button">Copy</button></pre>

<p>For the convenience of adding authorization headers, the following shorthand expression is supported.
This header configuration will be overridden if either <code>streamableHTTPOptions</code> or <code>sseOptions</code> is specified (details below).</p>
<pre><code class="ts"><span class="hl-1">    </span><span class="hl-10">github</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-9">// To avoid auto protocol fallback, specify the protocol explicitly when using authentication</span><br/><span class="hl-1">      </span><span class="hl-10">type</span><span class="hl-1">: </span><span class="hl-2">&quot;http&quot;</span><span class="hl-1">,  </span><span class="hl-9">// or `transport: &quot;http&quot;,`</span><br/><span class="hl-1">      </span><span class="hl-10">url</span><span class="hl-1">: </span><span class="hl-2">&quot;https://api.githubcopilot.com/mcp/&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-10">headers</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-2">&quot;Authorization&quot;</span><span class="hl-1">: </span><span class="hl-2">`Bearer </span><span class="hl-3">${</span><span class="hl-6">process</span><span class="hl-7">.</span><span class="hl-6">env</span><span class="hl-7">.</span><span class="hl-4">GITHUB_PERSONAL_ACCESS_TOKEN</span><span class="hl-3">}</span><span class="hl-2">`</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    },</span>
</code><button type="button">Copy</button></pre>

<p>NOTE: When accessing the GitHub MCP server, <a href="https://github.com/settings/personal-access-tokens">GitHub PAT (Personal Access Token)</a>
alone is not enough; your GitHub account must have an active Copilot subscription or be assigned a Copilot license through your organization.</p>
<p><strong>Auto-detection behavior (default):</strong></p>
<ul>
<li>For HTTP/HTTPS URLs without explicit <code>transport</code>, the library follows <a href="https://modelcontextprotocol.io/specification/2025-03-26/basic/transports#backwards-compatibility">MCP specification recommendations</a></li>
<li>First attempts Streamable HTTP transport</li>
<li>If Streamable HTTP fails with a 4xx error, automatically falls back to SSE transport</li>
<li>Non-4xx errors (network issues, etc.) are re-thrown without fallback</li>
</ul>
<p><strong>Explicit transport selection:</strong></p>
<ul>
<li>Set <code>transport: &quot;streamable_http&quot;</code> (or VSCode-style config <code>type: &quot;http&quot;</code>) to force Streamable HTTP (no fallback)</li>
<li>Set <code>transport: &quot;sse&quot;</code> to force SSE transport</li>
<li>WebSocket URLs (<code>ws://</code> or <code>wss://</code>) always use WebSocket transport</li>
</ul>
<p>Streamable HTTP is the modern MCP transport that replaces the older HTTP+SSE transport. According to the <a href="https://modelcontextprotocol.io/docs/concepts/transports">official MCP documentation</a>: &quot;SSE as a standalone transport is deprecated as of protocol version 2025-03-26. It has been replaced by Streamable HTTP, which incorporates SSE as an optional streaming mechanism.&quot;</p>
<h3 id="authentication-support-for-streamable-http-connections" class="tsd-anchor-link">Authentication Support for Streamable HTTP Connections<a href="#authentication-support-for-streamable-http-connections" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The library supports OAuth 2.1 authentication for Streamable HTTP connections:</p>
<pre><code class="ts"><span class="hl-8">import</span><span class="hl-1"> { </span><span class="hl-6">OAuthClientProvider</span><span class="hl-1"> } </span><span class="hl-8">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@modelcontextprotocol/sdk/client/auth.js&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-9">// Implement your own OAuth client provider</span><br/><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-5">MyOAuthProvider</span><span class="hl-1"> </span><span class="hl-3">implements</span><span class="hl-1"> </span><span class="hl-5">OAuthClientProvider</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-9">// Implementation details...</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">mcpServers</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;secure-streamable-server&quot;</span><span class="hl-6">:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">url:</span><span class="hl-1"> </span><span class="hl-2">&quot;https://secure-mcp-server.example.com/mcp&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">// To avoid auto protocol fallback, specify the protocol explicitly when using authentication</span><br/><span class="hl-1">    </span><span class="hl-6">transport:</span><span class="hl-1"> </span><span class="hl-2">&quot;streamable_http&quot;</span><span class="hl-1">,  </span><span class="hl-9">// or `type: &quot;http&quot;,`</span><br/><span class="hl-1">    </span><span class="hl-6">streamableHTTPOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-9">// Provide an OAuth client provider</span><br/><span class="hl-1">      </span><span class="hl-6">authProvider:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">MyOAuthProvider</span><span class="hl-1">(),</span><br/><span class="hl-1">      </span><br/><span class="hl-1">      </span><span class="hl-9">// Optionally customize HTTP requests</span><br/><span class="hl-1">      </span><span class="hl-6">requestInit:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-6">headers:</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-2">&#39;X-Custom-Header&#39;</span><span class="hl-6">:</span><span class="hl-1"> </span><span class="hl-2">&#39;custom-value&#39;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><br/><span class="hl-1">      </span><span class="hl-9">// Optionally configure reconnection behavior</span><br/><span class="hl-1">      </span><span class="hl-6">reconnectionOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-6">maxReconnectAttempts:</span><span class="hl-1"> </span><span class="hl-11">5</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">reconnectDelay:</span><span class="hl-1"> </span><span class="hl-11">1000</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<p>Test implementations are provided:</p>
<ul>
<li><strong>Streamable HTTP Authentication Tests</strong>:
<ul>
<li>MCP client uses this library: <a href="https://github.com/hideya/langchain-mcp-tools-ts/tree/main/testfiles/streamable-http-auth-test-client.ts">streamable-http-auth-test-client.ts</a></li>
<li>Test MCP Server:  <a href="https://github.com/hideya/langchain-mcp-tools-ts/tree/main/testfiles/streamable-http-auth-test-server.ts">streamable-http-auth-test-server.ts</a></li>
</ul>
</li>
</ul>
<h2 id="change-log" class="tsd-anchor-link">Change Log<a href="#change-log" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Can be found <a href="https://github.com/hideya/langchain-mcp-tools-ts/blob/main/CHANGELOG.md">here</a></p>
<h2 id="appendix" class="tsd-anchor-link">Appendix<a href="#appendix" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="troubleshooting" class="tsd-anchor-link">Troubleshooting<a href="#troubleshooting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ol>
<li><strong>Enable debug logging</strong>: Set <code>logLevel: &quot;debug&quot;</code> to see detailed connection and execution logs</li>
<li><strong>Check server stderr</strong>: For stdio MCP servers, use <code>stderr</code> redirection to capture server error output</li>
<li><strong>Test explicit transports</strong>: Try forcing specific transport types to isolate auto-detection issues</li>
<li><strong>Verify server independently</strong>: Refer to <a href="https://modelcontextprotocol.io/docs/tools/debugging">Debugging Section in MCP documentation</a></li>
</ol>
<h3 id="debugging-authentication" class="tsd-anchor-link">Debugging Authentication<a href="#debugging-authentication" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ol>
<li>
<p><strong>Check your tokens/credentials</strong> - Most auth failures are due to expired or incorrect tokens</p>
</li>
<li>
<p><strong>Verify token permissions</strong> - Some MCP servers require specific scopes (e.g., GitHub Copilot license)</p>
</li>
<li>
<p><strong>Test with curl</strong> - Try a simple HTTP request to verify your auth setup:</p>
<pre><code class="bash"><span class="hl-0">curl</span><span class="hl-1"> </span><span class="hl-3">-H</span><span class="hl-1"> </span><span class="hl-2">&quot;Authorization: Bearer your-token&quot;</span><span class="hl-1"> </span><span class="hl-2">https://api.example.com/mcp/</span>
</code><button type="button">Copy</button></pre>

</li>
</ol>
<h3 id="llm-provider-schema-compatibility" class="tsd-anchor-link">LLM Provider Schema Compatibility<a href="#llm-provider-schema-compatibility" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Different LLM providers have incompatible JSON Schema requirements for function calling:</p>
<ul>
<li><strong>OpenAI requires</strong>: Optional fields must be nullable (<code>.optional()</code> + <code>.nullable()</code>)
for function calling (based on Structured Outputs API requirements,
strict enforcement coming in future SDK versions)</li>
<li><strong>Google Gemini API</strong>: Rejects nullable fields and <code>$defs</code> references, requires strict OpenAPI 3.0 subset compliance</li>
<li><strong>Anthropic Claude</strong> and <strong>xAI Grok</strong>: Very relaxed schema requirements with no documented restrictions</li>
</ul>
<p><strong>Note</strong>: Google Vertex AI provides OpenAI-compatible endpoints that support nullable fields.</p>
<h4 id="real-world-impact" class="tsd-anchor-link">Real-World Impact<a href="#real-world-impact" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>This creates challenges for developers trying to create universal schemas across providers.</p>
<p>Many MCP servers generate schemas that don't satisfy all providers' requirements.<br>
For example, the official Notion MCP server <a href="https://www.npmjs.com/package/@notionhq/notion-mcp-server">@notionhq/notion-mcp-server</a> (as of Jul 2, 2025) produces:</p>
<p><strong>OpenAI Warnings:</strong></p>
<pre><code><span class="hl-6">Zod</span><span class="hl-1"> </span><span class="hl-6">field</span><span class="hl-1"> </span><span class="hl-6">at</span><span class="hl-1"> </span><span class="hl-2">`#/definitions/API-get-users/properties/start_cursor`</span><span class="hl-1"> </span><span class="hl-6">uses</span><span class="hl-1"> </span><span class="hl-2">`.optional()`</span><span class="hl-1"> </span><span class="hl-6">without</span><span class="hl-1"> </span><span class="hl-2">`.nullable()`</span><span class="hl-1"> </span><span class="hl-6">which</span><span class="hl-1"> </span><span class="hl-6">is</span><span class="hl-1"> </span><span class="hl-6">not</span><span class="hl-1"> </span><span class="hl-6">supported</span><span class="hl-1"> </span><span class="hl-6">by</span><span class="hl-1"> </span><span class="hl-6">the</span><span class="hl-1"> </span><span class="hl-4">API</span><span class="hl-1">. </span><span class="hl-6">See</span><span class="hl-1">: </span><span class="hl-10">https</span><span class="hl-1">:</span><span class="hl-9">//platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required</span><br/><span class="hl-1">... </span><span class="hl-6">followed</span><span class="hl-1"> </span><span class="hl-6">by</span><span class="hl-1"> </span><span class="hl-6">many</span><span class="hl-1"> </span><span class="hl-6">more</span>
</code><button>Copy</button></pre>

<p><strong>Gemini Errors:</strong></p>
<pre><code><span class="hl-10">GoogleGenerativeAIFetchError</span><span class="hl-1">: [</span><span class="hl-6">GoogleGenerativeAI</span><span class="hl-1"> </span><span class="hl-6">Error</span><span class="hl-1">]: </span><span class="hl-6">Error</span><span class="hl-1"> </span><span class="hl-6">fetching</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-10">https</span><span class="hl-1">:</span><span class="hl-9">//generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent: [400 Bad Request] * GenerateContentRequest.tools[0].function_declarations[0].parameters.properties[children].items.properties[paragraph].properties[rich_text].items.properties[mention].any_of[0].required: only allowed for OBJECT type</span><br/><span class="hl-1">... </span><span class="hl-6">followed</span><span class="hl-1"> </span><span class="hl-6">by</span><span class="hl-1"> </span><span class="hl-6">many</span><span class="hl-1"> </span><span class="hl-6">more</span>
</code><button>Copy</button></pre>

<h4 id="solution" class="tsd-anchor-link">Solution<a href="#solution" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The new option, <code>llmProvider</code>, has been introduced for performing provider-specific JSON schema transformations:</p>
<pre><code class="typescript"><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-4">tools</span><span class="hl-1">, </span><span class="hl-4">cleanup</span><span class="hl-1"> } = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-0">convertMcpToLangchainTools</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-6">mcpServers</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-6">llmProvider:</span><span class="hl-1"> </span><span class="hl-2">&quot;openai&quot;</span><span class="hl-1">        </span><span class="hl-9">// Makes optional fields nullable</span><br/><span class="hl-1">    </span><span class="hl-9">// llmProvider: &quot;google_gemini&quot; // Applies Gemini&#39;s strict validation rules  </span><br/><span class="hl-1">    </span><span class="hl-9">// llmProvider: &quot;anthropic&quot;     // No transformations needed</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>Features:</strong></p>
<ul>
<li>Generates INFO-level logs when transformations are applied</li>
<li>Helps users identify potential MCP server schema improvements</li>
<li>Falls back to original schema when no <code>llmProvider</code> is specified</li>
</ul>
<h4 id="provider-specific-transformations" class="tsd-anchor-link">Provider-Specific Transformations<a href="#provider-specific-transformations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><table>
<thead>
<tr>
<th>Provider</th>
<th>Transformations Applied</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>openai</code></td>
<td>Makes optional fields nullable, handles union types</td>
</tr>
<tr>
<td><code>google_gemini</code> or <code>google_genai</code></td>
<td>Filters invalid required fields, fixes anyOf variants, removes unsupported features</td>
</tr>
<tr>
<td><code>anthropic</code> and <code>xai</code></td>
<td>Accepts schemas as-is, but handles them efficiently</td>
</tr>
</tbody>
</table>
<p>For other providers, try without specifying the option:</p>
<pre><code class="typescript"><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-4">tools</span><span class="hl-1">, </span><span class="hl-4">cleanup</span><span class="hl-1"> } = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-0">convertMcpToLangchainTools</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-6">mcpServers</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h4 id="references" class="tsd-anchor-link">References<a href="#references" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><a href="https://platform.openai.com/docs/guides/function-calling">OpenAI Function Calling</a></li>
<li><a href="https://ai.google.dev/api/caching#Schema">Gemini API Schema Requirements</a></li>
<li><a href="https://docs.anthropic.com/en/docs/agents-and-tools/tool-use/overview">Anthropic Tool Use</a></li>
</ul>
<h3 id="resource-management" class="tsd-anchor-link">Resource Management<a href="#resource-management" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The returned <code>cleanup</code> function properly handles resource cleanup:</p>
<ul>
<li>Closes all MCP server connections concurrently</li>
<li>Logs any cleanup failures</li>
<li>Continues cleanup of remaining servers even if some fail</li>
<li>Should always be called when done using the tools</li>
</ul>
<pre><code class="ts"><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-4">tools</span><span class="hl-1">, </span><span class="hl-4">cleanup</span><span class="hl-1"> } = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-0">convertMcpToLangchainTools</span><span class="hl-1">(</span><span class="hl-6">mcpServers</span><span class="hl-1">);</span><br/><br/><span class="hl-8">try</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-9">// Use tools with your LLM</span><br/><span class="hl-1">} </span><span class="hl-8">finally</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-9">// Always cleanup, even if errors occur</span><br/><span class="hl-1">  </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-0">cleanup</span><span class="hl-1">();</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="debugging-and-logging" class="tsd-anchor-link">Debugging and Logging<a href="#debugging-and-logging" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The library provides configurable logging to help debug connection and tool execution issues:</p>
<pre><code class="ts"><span class="hl-9">// Configure log level</span><br/><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-4">tools</span><span class="hl-1">, </span><span class="hl-4">cleanup</span><span class="hl-1"> } = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-0">convertMcpToLangchainTools</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-6">mcpServers</span><span class="hl-1">, </span><br/><span class="hl-1">  { </span><span class="hl-6">logLevel:</span><span class="hl-1"> </span><span class="hl-2">&quot;debug&quot;</span><span class="hl-1"> }</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-9">// Use custom logger</span><br/><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-5">MyLogger</span><span class="hl-1"> </span><span class="hl-3">implements</span><span class="hl-1"> </span><span class="hl-5">McpToolsLogger</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">debug</span><span class="hl-1">(...</span><span class="hl-6">args</span><span class="hl-1">: </span><span class="hl-5">unknown</span><span class="hl-1">[]) { </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;[DEBUG]&quot;</span><span class="hl-1">, ...</span><span class="hl-6">args</span><span class="hl-1">); }</span><br/><span class="hl-1">  </span><span class="hl-0">info</span><span class="hl-1">(...</span><span class="hl-6">args</span><span class="hl-1">: </span><span class="hl-5">unknown</span><span class="hl-1">[]) { </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;[INFO]&quot;</span><span class="hl-1">, ...</span><span class="hl-6">args</span><span class="hl-1">); }</span><br/><span class="hl-1">  </span><span class="hl-0">warn</span><span class="hl-1">(...</span><span class="hl-6">args</span><span class="hl-1">: </span><span class="hl-5">unknown</span><span class="hl-1">[]) { </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">warn</span><span class="hl-1">(</span><span class="hl-2">&quot;[WARN]&quot;</span><span class="hl-1">, ...</span><span class="hl-6">args</span><span class="hl-1">); }</span><br/><span class="hl-1">  </span><span class="hl-0">error</span><span class="hl-1">(...</span><span class="hl-6">args</span><span class="hl-1">: </span><span class="hl-5">unknown</span><span class="hl-1">[]) { </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">&quot;[ERROR]&quot;</span><span class="hl-1">, ...</span><span class="hl-6">args</span><span class="hl-1">); }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-4">tools</span><span class="hl-1">, </span><span class="hl-4">cleanup</span><span class="hl-1"> } = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-0">convertMcpToLangchainTools</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-6">mcpServers</span><span class="hl-1">,</span><br/><span class="hl-1">  { </span><span class="hl-6">logger:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">MyLogger</span><span class="hl-1">() }</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Available log levels: <code>&quot;fatal&quot; | &quot;error&quot; | &quot;warn&quot; | &quot;info&quot; | &quot;debug&quot; | &quot;trace&quot;</code></p>
<h3 id="for-developers" class="tsd-anchor-link">For Developers<a href="#for-developers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>See <a href="https://github.com/hideya/langchain-mcp-tools-ts/blob/main/README_DEV.md">README_DEV.md</a>
for more information about development and testing.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#mcp-to-langchain-tools-conversion-utility--typescript-license-mit-npm-version-network-dependents"><span>MCP to <wbr/>Lang<wbr/>Chain <wbr/>Tools <wbr/>Conversion <wbr/>Utility / <wbr/>Type<wbr/>Script <wbr/>License: <wbr/>MIT npm version network dependents</span></a><ul><li><a href="#prerequisites"><span>Prerequisites</span></a></li><li><a href="#installation"><span>Installation</span></a></li><li><a href="#quick-start"><span>Quick <wbr/>Start</span></a></li><li><a href="#introduction"><span>Introduction</span></a></li><li><a href="#mcp-protocol-support"><span>MCP <wbr/>Protocol <wbr/>Support</span></a></li><li><ul><li><a href="#limitations"><span>Limitations</span></a></li><li><a href="#notes"><span>Notes</span></a></li></ul></li><li><a href="#api-docs"><span>API docs</span></a></li><li><a href="#building-from-source"><span>Building from <wbr/>Source</span></a></li><li><a href="#features"><span>Features</span></a></li><li><ul><li><a href="#stderr-redirection-for-local-mcp-server"><span>stderr <wbr/>Redirection for <wbr/>Local <wbr/>MCP <wbr/>Server</span></a></li><li><a href="#working-directory-configuration-for-local-mcp-servers"><span>Working <wbr/>Directory <wbr/>Configuration for <wbr/>Local <wbr/>MCP <wbr/>Servers</span></a></li><li><a href="#transport-selection-priority"><span>Transport <wbr/>Selection <wbr/>Priority</span></a></li><li><a href="#remote-mcp-server-support"><span>Remote <wbr/>MCP <wbr/>Server <wbr/>Support</span></a></li><li><a href="#authentication-support-for-streamable-http-connections"><span>Authentication <wbr/>Support for <wbr/>Streamable <wbr/>HTTP <wbr/>Connections</span></a></li></ul></li><li><a href="#change-log"><span>Change <wbr/>Log</span></a></li><li><a href="#appendix"><span>Appendix</span></a></li><li><ul><li><a href="#troubleshooting"><span>Troubleshooting</span></a></li><li><a href="#debugging-authentication"><span>Debugging <wbr/>Authentication</span></a></li><li><a href="#llm-provider-schema-compatibility"><span>LLM <wbr/>Provider <wbr/>Schema <wbr/>Compatibility</span></a></li><li><ul><li><a href="#real-world-impact"><span>Real-<wbr/>World <wbr/>Impact</span></a></li><li><a href="#solution"><span>Solution</span></a></li><li><a href="#provider-specific-transformations"><span>Provider-<wbr/>Specific <wbr/>Transformations</span></a></li><li><a href="#references"><span>References</span></a></li></ul></li><li><a href="#resource-management"><span>Resource <wbr/>Management</span></a></li><li><a href="#debugging-and-logging"><span>Debugging and <wbr/>Logging</span></a></li><li><a href="#for-developers"><span>For <wbr/>Developers</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/hideya/langchain-mcp-tools-ts" class="tsd-nav-link">GitHub</a><a href="https://www.npmjs.com/package/@h1deya/langchain-mcp-tools" class="tsd-nav-link">NPM</a></nav><nav class="tsd-navigation"><a href="modules.html">@h1deya/langchain-mcp-tools - v0.3.5</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
